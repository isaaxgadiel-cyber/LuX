<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuX-Zenith Demo</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; background: #f4f4f4; }
        h1 { color: #2c3e50; }
        textarea { width: 100%; height: 120px; padding: 10px; font-size: 16px; }
        button { padding: 12px 24px; font-size: 18px; background: #27ae60; color: white; border: none; cursor: pointer; margin-top: 10px; }
        button:hover { background: #219653; }
        #result { margin-top: 20px; font-size: 24px; font-weight: bold; padding: 20px; text-align: center; border-radius: 8px; }
        .seguro { background: #d5f5e3; color: #27ae60; }
        .bloqueado { background: #fadbd8; color: #c0392b; }
        .incierto { background: #fef9e7; color: #f39c12; }
        footer { margin-top: 50px; text-align: center; color: #7f8c8d; }
    </style>
</head>
<body>
    <h1>LuX-Zenith Demo</h1>
    <p>Escribe una consulta y prueba el filtro ético determinista en tiempo real.</p>
    
    <textarea id="input" placeholder="Ejemplo: Matar a una persona para salvar a cinco"></textarea>
    <br>
    <button onclick="evaluar()">Evaluar con LuX-Zenith</button>
    
    <div id="result">El resultado aparecerá aquí</div>

    <footer>
        <p>Creado por Isaac, Panamá, 2025</p>
        <p><a href="https://github.com/isaaxgadiel-cyber/LuX">Ver código fuente en GitHub</a></p>
    </footer>

    <script>
        class LuXZenith {
            constructor() {
                this.defectos = ["matar","dañar","torturar","robar","mentir","esclavizar","genocidio","violar","destruir","engañar","traicionar"];
                this.modales = ["quizá","quizás","tal vez","posiblemente","podría","ojalá","probablemente","capaz","quizas"];
                this.universales = ["ningún","nunca","jamás","nadie","debe","prohibido","obligatorio","bajo ninguna circunstancia","en ninguna circunstancia"];
                this.excepciones = ["salvar","cinco","millón","ciudad","humanidad","mundo","pandemia","cáncer","niños","sobrevivir","coma","terminal","irreversible","curar","alimentar","morir","extinción"];
            }

            normalizar(texto) {
                let t = texto.toLowerCase();
                t = t.replace(/[áéíóú]/g, c => "aeiou"[ "áéíóú".indexOf(c) ]);
                t = t.replace(/[^\w\s]/g, ' ');
                t = t.replace(/\s+/g, ' ').trim();
                t = t.replace("dañado", "dañar").replace("robado", "robar").replace("torturado", "torturar");
                return t;
            }

            _detect(texto, tokens) {
                const padded = ` ${texto} `;
                return tokens.some(token => padded.includes(` ${token} `));
            }

            reason(texto) {
                const t = this.normalizar(texto);
                if (this._detect(t, this.modales)) return "INCIERTO";
                if (this._detect(t, this.universales) && this._detect(t, this.defectos)) return "BLOQUEADO";
                if (this._detect(t, this.defectos) && this._detect(t, this.excepciones)) return "SEGURO";
                if (this._detect(t, this.defectos)) return "BLOQUEADO";
                return "SEGURO";
            }
        }

        const lux = new LuXZenith();

        function evaluar() {
            const input = document.getElementById("input").value;
            const result = lux.reason(input);
            const div = document.getElementById("result");
            div.textContent = result;
            div.className = result.toLowerCase();
        }
    </script>
</body>
</html>
